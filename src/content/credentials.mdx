---
title: Credentials
description: Verifiable credentials — issuance, verification, reissuance, and the W3C JWT format.
---

Procta issues **W3C-compatible Verifiable Credential JWTs** for every registered agent. These credentials cryptographically bind an agent's identity, scopes, and limits to a verified owner.

## Credential lifecycle

1. **Issuance** — A credential is automatically issued when an agent is registered
2. **Verification** — Anyone can verify a credential using the public endpoint
3. **Reissuance** — Credentials can be reissued when scopes or limits change
4. **Revocation** — Credentials are revoked when an agent is suspended or revoked

## Verifying a credential

The credential verification endpoint is **public** — no API key required:

```ts
const response = await fetch('https://api.procta.org/v1/credentials/verify', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    vcJwt: 'eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9...',
  }),
})
const result = await response.json()
```

### Valid credential response

```json
{
  "valid": true,
  "payload": {
    "sub": "kya_01khm4wne0d583nsxgzgs14ej0",
    "iss": "did:web:procta.org",
    "vc": {
      "type": ["VerifiableCredential", "KYACredential"],
      "credentialSubject": {
        "kyaId": "kya_01khm4wne0d583nsxgzgs14ej0",
        "scopes": ["payments:send", "payments:receive"],
        "limits": { "perTransaction": "1000" }
      }
    }
  }
}
```

### Invalid credential response

```json
{
  "valid": false,
  "error": "Credential has been revoked"
}
```

## Getting an agent's active credential

```ts
const response = await fetch(
  `https://api.procta.org/v1/agents/${agentId}/credential`,
  { headers: { 'Authorization': `Bearer ${ownerApiKey}` } }
)
const { credential } = await response.json()
```

## Reissuing a credential

When you update an agent's scopes or limits, reissue the credential to reflect the changes:

```ts
const response = await fetch(
  `https://api.procta.org/v1/agents/${agentId}/credential/reissue`,
  {
    method: 'POST',
    headers: { 'Authorization': `Bearer ${ownerApiKey}` },
  }
)
const { vcJwt } = await response.json()
// New credential JWT with updated claims
```

<Note type="info" title="Key rotation">
When you rotate an agent's public key via `POST /v1/agents/{id}/rotate-key`, a new credential is automatically issued with the new key binding.
</Note>

<Note type="warning" title="Revoked credentials">
Once a credential is revoked (agent suspended/revoked), the `verify` endpoint will return `valid: false`. Previously issued JWTs become permanently invalid.
</Note>
