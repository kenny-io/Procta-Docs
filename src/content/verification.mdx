---
title: Verification
description: Real-time agent action verification — scopes, limits, and decision logic.
---

The verification endpoint is the core of Procta's trust layer. Relying parties call it before processing any agent request to confirm authorization.

## How verification works

When a relying party sends a verification request, Procta checks:

1. **Agent status** — Is the agent `ACTIVE`? (Suspended/revoked agents are denied)
2. **Owner verification** — Is the agent's owner KYC-verified?
3. **Scope authorization** — Does the agent have the required scope for the action?
4. **Transaction limits** — Does the amount fall within the agent's configured limits?

## Making a verification request

```ts
const response = await fetch('https://api.procta.org/v1/verify', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer prc_rp_xyz789...`,
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    kya_id: 'kya_01khm4wne0d583nsxgzgs14ej0',
    action: 'payments:send',
    amount: '500.00',
    asset: 'USD',
    metadata: { recipient: 'merchant_123' },
  }),
})
```

## Response

```json
{
  "decision": "ALLOWED",
  "agent": {
    "kyaId": "kya_01khm4wne0d583nsxgzgs14ej0",
    "name": "PaymentBot",
    "status": "ACTIVE"
  },
  "latencyMs": 12
}
```

If denied:

```json
{
  "decision": "DENIED",
  "reason": "Transaction amount 5000.00 exceeds per-transaction limit of 1000",
  "agent": { "kyaId": "kya_01khm4wne0d583nsxgzgs14ej0", "status": "ACTIVE" },
  "latencyMs": 8
}
```

## Decision outcomes

| Decision | Meaning |
| --- | --- |
| `ALLOWED` | Agent is authorized to perform the action |
| `DENIED` | Agent is not authorized — see `reason` field |

## Agent Lookup

You can also look up an agent's verification status without performing an action check:

```ts
const response = await fetch('https://api.procta.org/v1/agents/lookup', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({ kya_id: 'kya_01khm4wne0d583nsxgzgs14ej0' }),
})
const { verified, agent, owner, reason } = await response.json()
```

## Audit trail

Every verification request is automatically recorded as an audit event, regardless of the decision. Use the [Audit API](/api/reference) to query verification history.

<Note type="info" title="Performance">
Verification typically completes in under 15ms. All checks are performed in a single database round-trip.
</Note>
